<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <title>TurboCo Dashboard</title>
  </head>
  <body>
    <div id="app">
      <div class="text-center"><img src="logo.png" /></div>

      <h2>Active users: <span class="badge badge-secondary">{{ nbConnections }}</span></h2>

      <table class="table table-dark">
        <thead>
          <tr>
            <th colspan="2"><h2>Alerts</h2></td>
          </tr>
        </thead>
        <tbody>
          <tr v-for="alert in alerts">
            <td>{{ alert.message }}</td>
            <td>{{ alert.timestamp }}</td>
          </tr>
        </tbody>
      </table>

      <table class="table table-dark">
        <thead>
          <tr>
            <td colspan="5"><h2>Robots</h2></td>
          </tr>
          <tr>
            <th>Label</th>
            <th>X</th>
            <th>Y</th>
            <th>Z</th>
            <th>Timestamp</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="robotInfo in robotInfos">
            <td>{{ robotInfo.label }}</td>
            <td>{{ robotInfo.x }}</td>
            <td>{{ robotInfo.y }}</td>
            <td>{{ robotInfo.z }}</td>
            <td>{{ robotInfo.timestamp }}</td>
          </tr>
        </tbody>
      </table>

      <table class="table table-dark table-sm">
        <thead>
        <tr>
          <th colspan="3"><h2>Logs</h2></td>
        </tr>
        <tr>
          <th>Level</th>
          <th>Message</th>
          <th>Timestamp</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="log in logs">
          <td>{{ log.level }}</td>
          <td>{{ log.message }}</td>
          <td>{{ log.timestamp }}</td>
        </tr>
        </tbody>
      </table>

      <footer>Â© TurboCo 2020</footer>

      <a href="#" @click="ToggleDebug" class="small text-secondary">Toggle Debug</a>

      <div id="debug" style="display: none">
        <hr />

        <div>
          <h2>Front end logs</h2>
          <ul>
            <li v-for="browserLog in browserLogs">{{ browserLog }}</li>
          </ul>
        </div>

        <hr />

        <div>
          <h2>Fake alert</h2>
          <input class="form-control" v-model="newAlertMessage" placeholder="Alert message" /><br />
          <button class="btn btn-primary" @click="SendAlert">Send</button>
        </div>

        <hr />

        <div>
          <h2>Fake log</h2>
          Level: <input class="form-control" type="number" v-model="newLog.level" /><br />
          <input class="form-control" v-model="newLog.message" placeholder="Log message" /><br />
          <button class="btn btn-primary" @click="SendLog">Send</button>
        </div>

        <hr />

        <div>
          <h2>Fake robot</h2>
          <input class="form-control" v-model="newRobotInfo.label" /><br />
          <input class="form-control" v-model="newRobotInfo.x" /><br />
          <input class="form-control" v-model="newRobotInfo.y" /><br />
          <input class="form-control" v-model="newRobotInfo.z" /><br />
          <button class="btn btn-primary" @click="SendRobotInfo">Send</button>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/3.1.7/signalr.min.js"></script>
    <script src="https://unpkg.com/vue@next"></script>
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>
    <script src="script.js"></script>
  </body>
</html>
